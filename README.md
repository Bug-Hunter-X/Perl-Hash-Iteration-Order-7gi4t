This example demonstrates an issue with Perl hash iteration.  Perl does not guarantee the order in which hash elements are processed during iteration.  The first loop may produce results in a different order than the second loop, which sorts the keys before iteration.  This is a common source of unexpected behavior and bugs in Perl programs. The solution demonstrates how to iterate in a predictable order using "sort keys %hash".